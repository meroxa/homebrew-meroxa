# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Meroxa < Formula
  desc "The Meroxa CLI"
  homepage "https://meroxa.io"
  version "2.1.0-nightly.20220521"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/meroxa/cli/releases/download/v2.1.0-nightly.20220521/meroxa_2.1.0-nightly.20220521_darwin_arm64.tar.gz"
      sha256 "e68a1ea95fe9f6ce9d57850f6fc94ede337fc9265db8efc1c4797f43b8daa00a"

      def install
        bin.install "meroxa"
        prefix.install_metafiles
        bash_completion.install "etc/completion/meroxa.completion.sh"
        zsh_completion.install "etc/completion/meroxa.completion.zsh" => "meroxa"
        fish_completion.install "etc/completion/meroxa.completion.fish"
        man.install "etc/man/man1"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/meroxa/cli/releases/download/v2.1.0-nightly.20220521/meroxa_2.1.0-nightly.20220521_darwin_amd64.tar.gz"
      sha256 "2f730bdcc8f373e073bb0428196f7c6aff07381f77a0b42c4443107a81e37f8a"

      def install
        bin.install "meroxa"
        prefix.install_metafiles
        bash_completion.install "etc/completion/meroxa.completion.sh"
        zsh_completion.install "etc/completion/meroxa.completion.zsh" => "meroxa"
        fish_completion.install "etc/completion/meroxa.completion.fish"
        man.install "etc/man/man1"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/meroxa/cli/releases/download/v2.1.0-nightly.20220521/meroxa_2.1.0-nightly.20220521_linux_amd64.tar.gz"
      sha256 "2b923e1f85b7abb1c00a7667f14e65cab9a01f286b0775d305dc8e69d56a9ad4"

      def install
        bin.install "meroxa"
        prefix.install_metafiles
        bash_completion.install "etc/completion/meroxa.completion.sh"
        zsh_completion.install "etc/completion/meroxa.completion.zsh" => "meroxa"
        fish_completion.install "etc/completion/meroxa.completion.fish"
        man.install "etc/man/man1"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/meroxa/cli/releases/download/v2.1.0-nightly.20220521/meroxa_2.1.0-nightly.20220521_linux_arm64.tar.gz"
      sha256 "ce69d50873a0441899e8be152333f40fbca9381eb37c81b3f638edbca0bd2a96"

      def install
        bin.install "meroxa"
        prefix.install_metafiles
        bash_completion.install "etc/completion/meroxa.completion.sh"
        zsh_completion.install "etc/completion/meroxa.completion.zsh" => "meroxa"
        fish_completion.install "etc/completion/meroxa.completion.fish"
        man.install "etc/man/man1"
      end
    end
  end

  head "https://github.com/meroxa/cli.git"

  test do
    shell_output("#{bin}/meroxa version").match(/2.1.0-nightly.20220521/)
  end
end
